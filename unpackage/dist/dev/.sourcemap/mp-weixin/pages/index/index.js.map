{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/86158/Desktop/PM/mall4uni/pages/index/index.vue?567f","webpack:///C:/Users/86158/Desktop/PM/mall4uni/pages/index/index.vue?84e8","webpack:///C:/Users/86158/Desktop/PM/mall4uni/pages/index/index.vue?a5bd","webpack:///C:/Users/86158/Desktop/PM/mall4uni/pages/index/index.vue?de4f","uni-app:///pages/index/index.vue","webpack:///C:/Users/86158/Desktop/PM/mall4uni/pages/index/index.vue?daa7","webpack:///C:/Users/86158/Desktop/PM/mall4uni/pages/index/index.vue?9f43","webpack:///C:/Users/86158/Desktop/PM/mall4uni/wxs/number.wxs?8248","webpack:///C:/Users/86158/Desktop/PM/mall4uni/wxs/number.wxs?6f6c"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","indicatorDots","indicatorColor","indicatorActiveColor","autoplay","interval","duration","indexImgs","seq","news","taglist","sts","scrollTop","current","updata","components","props","onLoad","onShow","uni","success","url","http","onPullDownRefresh","setTimeout","ths","methods","bindViewTap","onPageScroll","toProdPage","addToCart","mask","method","prodId","callBack","basketId","count","shopId","skuId","title","icon","toCouponCenter","toSearchPage","toClassifyPage","onNewsPage","getAllData","getIndexImgs","getNoticeList","getTag","getTagProd","tagId","size","showProdInfo"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8S;AAC9S;AACyD;AACL;AACa;;;AAGjE;AAC4K;AAC5K,gBAAgB,qLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4QAAM;AACR,EAAE,qRAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gRAAU;AACZ;AACA;;AAEA;AAC4L;AAC5L,WAAW,0MAAM,iBAAiB,kNAAM;;AAExC;AACe,gF;;;;;;;;;;;;AC3Bf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAkoB,CAAgB,upBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+JtpB;AACA;AACA,WAAW,mBAAO,CAAC,6BAAqB;AACxC,aAAa,mBAAO,CAAC,+BAAuB;AAC5C;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;EACAC;EACAC;IACA;EACA;EACAC;IAEAC;MACAC;QACA;UACAD;YACAE;UACA;QACA;MACA;IACA;IAEAC;EACA;;EAEA;AACA;AACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC;IACA;IACA;IACA;IACAC;MACAC;;MAEAN;IACA;EACA;EACAO;IACA;IACAC;MACAR;QACAE;MACA;IACA;IACA;IACAO;MACA;MACA;QACAhB;MACA;IACA;IACAiB;MACA;MAEA;QACAV;UACAE;QACA;MACA;IACA;IACA;IACAS;MACAX;QACAY;MACA;MACA;QACAV;QACAW;QACAhC;UACAiC;QACA;QACAC;UACA;YACAb;YACAW;YACAhC;cACAmC;cACAC;cACAH;cACAI;cACAC;YACA;YACAJ;cACA;cACAf;cACAG;cACAH;gBACAoB;gBACAC;cACA;YACA;UACA;UACAlB;QACA;MACA;MACAA;IACA;IACAmB;MACAtB;QACAqB;QACAD;MACA;IACA;IACA;IACAG;MACAvB;QACAE;MACA;IACA;IACA;IACAsB;MACA;MACA;MACA;MAEA;QACAtB;MACA;MAEAF;QACAE;MACA;IACA;IACA;IACAuB;MACAzB;QACAE;MACA;IACA;IAEAwB;MACAvB;;MAEA;MACA;MACA;IACA;IAEA;IACAwB;MAAA;MACA;MACA;QACAzB;QACAW;QACAhC;QACAkC;UACA;YACA3B;YACAC;UACA;QACA;MACA;MACAc;IACA;IAEAyB;MAAA;MACA;MACA;QACA1B;QACAW;QACAhC;QACAkC;UACA;YACAzB;UACA;QACA;MACA;MACAa;IACA;IAEA;IACA0B;MAAA;MACA;QACA3B;QACAW;QACAhC;QACAkC;UACA;YACAxB;UACA;UAEA;YACA;YACA;YACA;UACA;QACA;MACA;MACAY;IACA;IAEA2B;MAAA;MACA;QACA5B;QACAW;QACAhC;UACAkD;UACAC;QACA;QACAjB;UACA;UACA;UACA;UACAxB;UACA;YACAA;UACA;QACA;MACA;MACAY;IACA;IAEA;AACA;AACA;IACA8B;MACA;MAEA;QACAjC;UACAE;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClaA;AAAA;AAAA;AAAA;AAAk6B,CAAgB,45BAAG,EAAC,C;;;;;;;;;;;ACAt7B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA,wCAA0T,CAAgB,+XAAG,EAAC,C;;;;;;;;;;;;ACA9U;AAAe;AACf;AACA;AACA;;AAEA,M","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&filter-modules=eyJ3eHMiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NjIzMCwiYXR0cnMiOnsibW9kdWxlIjoid3hzIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3d4cy9udW1iZXIud3hzIn0sImVuZCI6NjIzMH19&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* custom blocks */\nimport block0 from \"../../wxs/number.wxs?vue&type=custom&index=0&blockType=script&issuerPath=C%3A%5CUsers%5C86158%5CDesktop%5CPM%5Cmall4uni%5Cpages%5Cindex%5Cindex.vue&module=wxs&lang=wxs\"\nif (typeof block0 === 'function') block0(component)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&filter-modules=eyJ3eHMiOnsidHlwZSI6InNjcmlwdCIsImNvbnRlbnQiOiIiLCJzdGFydCI6NjIzMCwiYXR0cnMiOnsibW9kdWxlIjoid3hzIiwibGFuZyI6Ind4cyIsInNyYyI6Ii4uLy4uL3d4cy9udW1iZXIud3hzIn0sImVuZCI6NjIzMH19&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.news && _vm.news.length\n  var l0 = _vm.updata\n    ? _vm.__map(_vm.taglist, function (item, index) {\n        var $orig = _vm.__get_orig(item)\n        var g1 = item.style == 2 && item.prods && item.prods.length\n        var g2 = item.style == 1 && item.prods && item.prods.length\n        var g3 = item.style == 0 && item.prods && item.prods.length\n        return {\n          $orig: $orig,\n          g1: g1,\n          g2: g2,\n          g3: g3,\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n<!--index.wxml-->\n<view class=\"container\">\n  <view class=\"bg-sear\">\n    <view class=\"scrolltop\">\n      <view class=\"section\" @tap=\"toSearchPage\">\n        <image src=\"/static/images/icon/search.png\" class=\"search-img\"></image>\n        <text class=\"placeholder\">搜索</text>\n      </view>\n    </view>\n  </view>\n\n  <view class=\"content\">\n    <!-- swiper -->\n    <swiper :autoplay=\"autoplay\" :indicator-color=\"indicatorColor\" :interval=\"interval\" :duration=\"duration\" :indicator-active-color=\"indicatorActiveColor + ' '\" circular=\"true\" class=\"pic-swiper\" indicator-dots previous-margin=\"20rpx\" next-margin=\"20rpx\">\n      <block v-for=\"(item, index) in indexImgs\" :key=\"index\">\n        <swiper-item class=\"banner-item\">\n          <view class=\"img-box\">\n            <image :src=\"item.imgUrl\" :data-prodid=\"item.relation\" @tap=\"toProdPage\" class=\"banner\"></image>\n          </view>\n        </swiper-item>\n      </block>\n    </swiper>\n    <!-- end swiper -->\n\n    <view class=\"cat-item\">\n      <view class=\"item\" @tap=\"toClassifyPage\" data-sts=\"1\">\n        <image src=\"/static/images/icon/newProd.png\"></image>\n        <text>新品推荐</text>\n      </view>\n      <view class=\"item\" @tap=\"toClassifyPage\" data-sts=\"1\">\n        <image src=\"/static/images/icon/timePrice.png\"></image>\n        <text>限时特惠</text>\n      </view>\n      <view class=\"item\" @tap=\"toClassifyPage\" data-sts=\"3\">\n        <image src=\"/static/images/icon/neweveryday.png\"></image>\n        <text>每日疯抢</text>\n      </view>\n      <view class=\"item\" @tap=\"toCouponCenter\">\n        <image src=\"/static/images/icon/newprods.png\"></image>\n        <text>领优惠券</text>\n      </view>\n    </view>\n\n    <!-- 消息播放 -->\n    <view v-if=\"news && news.length\" class=\"message-play\" @tap=\"onNewsPage\">\n      <image src=\"/static/images/icon/horn.png\" class=\"hornpng\"></image>\n      <swiper :vertical=\"true\" :autoplay=\"true\" :circular=\"true\" duration=\"1000\" class=\"swiper-cont\">\n        <block v-for=\"(item, index) in news\" :key=\"index\">\n          <swiper-item class=\"items\">{{item.title}}</swiper-item>\n        </block>\n      </swiper>\n      <text class=\"arrow\"></text>\n    </view>\n\n  </view>\n\t\n\t<view class=\"updata\" v-if=\"updata\">\n\t\t<block v-for=\"(item, index) in taglist\" :key=\"index\">\n\t\t  <!-- 每日上新 -->\n\t\t  <view class=\"up-to-date\" v-if=\"item.style==2 && item.prods && item.prods.length\">\n\t\t    <view class=\"title\">\n\t\t      <text>{{item.title}}</text>\n\t\t      <view class=\"more-prod-cont\" @tap=\"toClassifyPage\" data-sts=\"0\" :data-id=\"item.id\" :data-title=\"item.title\">\n\t\t        <text class=\"more\">查看更多</text>\n\t\t        <!-- <text class='arrow'></text> -->\n\t\t      </view>\n\t\t    </view>\n\t\t    <view class=\"item-cont\">\n\t\t      <block v-for=\"(prod, index2) in item.prods\" :key=\"index2\">\n\t\t        <view class=\"prod-item\" @tap=\"toProdPage\" :data-prodid=\"prod.prodId\">\n\t\t          <view>\n\t\t            <view class=\"imagecont\">\n\t\t              <image :src=\"prod.pic\" class=\"prodimg\"></image>\n\t\t            </view>\n\t\t            <view class=\"prod-text\">{{prod.prodName}}</view>\n\t\t            <view class=\"price\">\n\t\t              <text class=\"symbol\">￥</text>\n\t\t              <text class=\"big-num\">{{wxs.parsePrice(prod.price)[0]}}</text>\n\t\t              <text class=\"small-num\">.{{wxs.parsePrice(prod.price)[1]}}</text>\n\t\t            </view>\n\t\t          </view>\n\t\t        </view>\n\t\t      </block>\n\t\t\n\t\t    </view>\n\t\t  </view>\n\t\t\n\t\t  <!-- 商城热卖 -->\n\t\t  <view class=\"hot-sale\" v-if=\"item.style==1 && item.prods && item.prods.length\">\n\t\t    <view class=\"title\">\n\t\t      <text>{{item.title}}</text>\n\t\t      <view class=\"more-prod-cont\" @tap=\"toClassifyPage\" data-sts=\"0\" :data-id=\"item.id\" :data-title=\"item.title\">\n\t\t        <text class=\"more\">更多</text>\n\t\t        <text class=\"arrow\"></text>\n\t\t      </view>\n\t\t    </view>\n\t\t    <view class=\"hotsale-item-cont\">\n\t\t      <block v-for=\"(prod, index2) in item.prods\" :key=\"index2\">\n\t\t        <view class=\"prod-items\" @tap=\"toProdPage\" :data-prodid=\"prod.prodId\">\n\t\t          <view class=\"hot-imagecont\">\n\t\t            <image :src=\"prod.pic\" class=\"hotsaleimg\"></image>\n\t\t          </view>\n\t\t          <view class=\"hot-text\">\n\t\t            <view class=\"hotprod-text\">{{prod.prodName}}</view>\n\t\t            <view class=\"prod-info\">{{prod.brief}}</view>\n\t\t            <view class=\"prod-text-info\">\n\t\t              <view class=\"price\">\n\t\t                <text class=\"symbol\">￥</text>\n\t\t                <text class=\"big-num\">{{wxs.parsePrice(prod.price)[0]}}</text>\n\t\t                <text class=\"small-num\">.{{wxs.parsePrice(prod.price)[1]}}</text>\n\t\t              </view>\n\t\t              <!-- <view class='singal-price'>\n\t\t                <text>￥</text>\n\t\t                <text>{{prod.oriPrice}}</text>\n\t\t              </view> -->\n\t\t              <image src=\"/static/images/tabbar/basket-sel.png\" class=\"basket-img\"></image>\n\t\t            </view>\n\t\t          </view>\n\t\t        </view>\n\t\t      </block>\n\t\t    </view>\n\t\t  </view>\n\t\t\n\t\t  <!-- 更多宝贝 -->\n\t\t  <view class=\"more-prod\" v-if=\"item.style==0 && item.prods && item.prods.length\">\n\t\t    <view class=\"title\">{{item.title}}</view>\n\t\t    <view class=\"prod-show\">\n\t\t      <block v-for=\"(prod, index2) in item.prods\" :key=\"index2\">\n\t\t        <view class=\"show-item\" @tap=\"toProdPage\" :data-prodid=\"prod.prodId\">\n\t\t          <view class=\"more-prod-pic\">\n\t\t            <image :src=\"prod.pic\" class=\"more-pic\"></image>\n\t\t          </view>\n\t\t          <view class=\"prod-text-right\">\n\t\t            <view class=\"prod-text more\">{{prod.prodName}}</view>\n\t\t            <view class=\"prod-info\">{{prod.brief}}</view>\n\t\t            <view class=\"b-cart\">\n\t\t              <view class=\"price\">\n\t\t                <text class=\"symbol\">￥</text>\n\t\t                <text class=\"big-num\">{{wxs.parsePrice(prod.price)[0]}}</text>\n\t\t                <text class=\"small-num\">.{{wxs.parsePrice(prod.price)[1]}}</text>\n\t\t              </view>\n\t\t              <!-- <view class='go-to-buy'>立即购买</view> -->\n\t\t              <image src=\"/static/images/tabbar/basket-sel.png\" @tap.stop=\"addToCart(prod)\" class=\"basket-img\"></image>\n\t\t            </view>\n\t\t          </view>\n\t\t        </view>\n\t\t      </block>\n\t\t    </view>\n\t\t  </view>\n\t\t</block>\n\t</view>\n  \n</view>\n</template>\n\n<script module=\"wxs\" lang=\"wxs\" src=\"../../wxs/number.wxs\"></script>\n\n<script>\n//index.js\n//获取应用实例\nvar http = require(\"../../utils/http.js\");\nvar config = require(\"../../utils/config.js\");\nconst app = getApp();\n\nexport default {\n  data() {\n    return {\n      indicatorDots: true,\n      indicatorColor: '#d1e5fb',\n      indicatorActiveColor: '#1b7dec',\n      autoplay: true,\n      interval: 2000,\n      duration: 1000,\n      indexImgs: [],\n      seq: 0,\n      news: [],\n      taglist: [],\n      sts: 0,\n      scrollTop: \"\",\n\t\t\tcurrent: 0,\n\t\t\tupdata: true\n    };\n  },\n\n  components: {},\n  props: {},\n  onLoad: function () {\n    this.getAllData();\n  },\n  onShow: function () {\n\t\t//#ifdef MP-WEIXIN\n    uni.getSetting({\n      success(res) {\n        if (!res.authSetting['scope.userInfo']) {\n          uni.navigateTo({\n            url: '/pages/login/login'\n          });\n        }\n      }\n    });\n\t\t//#endif\n\thttp.getCartCount(); //重新计算购物车总数量\n  },\n\n  /**\n   * 页面相关事件处理函数--监听用户下拉动作\n   */\n  // onPullDownRefresh: function () {\n  //     wx.request({\n  //       url: '',\n  //       data: {},\n  //       method: 'GET',\n  //       success: function (res) { },\n  //       fail: function (res) { },\n  //       complete: function (res) {\n  //         wx.stopPullDownRefresh();\n  //       }\n  //     })\n  // },\n  onPullDownRefresh: function () {\n    // wx.showNavigationBarLoading() //在标题栏中显示加载\n    //模拟加载\n    var ths = this;\n    setTimeout(function () {\n      ths.getAllData(); // wx.hideNavigationBarLoading() //完成停止加载\n\n      uni.stopPullDownRefresh(); //停止下拉刷新\n    }, 100);\n  },\n  methods: {\n    //事件处理函数\n    bindViewTap: function () {\n      uni.navigateTo({\n        url: '../logs/logs'\n      });\n    },\n    // 页面滚动到指定位置指定元素固定在顶部\n    onPageScroll: function (e) {\n      //监听页面滚动\n      this.setData({\n        scrollTop: e.scrollTop\n      });\n    },\n    toProdPage: function (e) {\n      var prodid = e.currentTarget.dataset.prodid;\n\n      if (prodid) {\n        uni.navigateTo({\n          url: '/pages/prod/prod?prodid=' + prodid\n        });\n      }\n    },\n    // 加入购物车\n    addToCart: function (item) {\n      uni.showLoading({\n        mask: true\n      });\n      var params = {\n        url: \"/prod/prodInfo\",\n        method: \"GET\",\n        data: {\n          prodId: item.prodId\n        },\n        callBack: res => {\n          var params1 = {\n            url: \"/p/shopCart/changeItem\",\n            method: \"POST\",\n            data: {\n              basketId: 0,\n              count: 1,\n              prodId: res.prodId,\n              shopId: res.shopId,\n              skuId: res.skuList[0].skuId\n            },\n            callBack: res => {\n              //console.log(res);\n              uni.hideLoading();\n              http.getCartCount(); //重新计算购物车总数量\n              uni.showToast({\n                title: \"加入购物车成功\",\n                icon: \"none\"\n              });\n            }\n          };\n          http.request(params1);\n        }\n      };\n      http.request(params);\n    },\n    toCouponCenter: function () {\n      uni.showToast({\n        icon: \"none\",\n        title: '暂未实现'\n      });\n    },\n    // 跳转搜索页\n    toSearchPage: function () {\n      uni.navigateTo({\n        url: '/pages/search-page/search-page'\n      });\n    },\n    //跳转商品活动页面\n    toClassifyPage: function (e) {\n      var url = '/pages/prod-classify/prod-classify?sts=' + e.currentTarget.dataset.sts;\n      var id = e.currentTarget.dataset.id;\n      var title = e.currentTarget.dataset.title;\n\n      if (id) {\n        url += \"&tagid=\" + id + \"&title=\" + title;\n      }\n\n      uni.navigateTo({\n        url: url\n      });\n    },\n    //跳转公告列表页面\n    onNewsPage: function () {\n      uni.navigateTo({\n        url: '/pages/recent-news/recent-news'\n      });\n    },\n\n    getAllData() {\n      http.getCartCount(); //重新计算购物车总数量\n\n      this.getIndexImgs();\n      this.getNoticeList();\n      this.getTag();\n    },\n\n    //加载轮播图\n    getIndexImgs() {\n      //加载轮播图\n      var params = {\n        url: \"/indexImgs\",\n        method: \"GET\",\n        data: {},\n        callBack: res => {\n          this.setData({\n            indexImgs: res,\n            seq: res\n          });\n        }\n      };\n      http.request(params);\n    },\n\n    getNoticeList() {\n      // 加载公告\n      var params = {\n        url: \"/shop/notice/topNoticeList\",\n        method: \"GET\",\n        data: {},\n        callBack: res => {\n          this.setData({\n            news: res\n          });\n        }\n      };\n      http.request(params);\n    },\n\n    // 加载商品标题分组列表\n    getTag() {\n      var params = {\n        url: \"/prod/tag/prodTagList\",\n        method: \"GET\",\n        data: {},\n        callBack: res => {\n          this.setData({\n            taglist: res\n          });\n\n          for (var i = 0; i < res.length; i++) {\n\t\t\t\t\t\tthis.updata = false\n\t\t\t\t\t\tthis.updata = true\n            this.getTagProd(res[i].id, i);\n          }\n        }\n      };\n      http.request(params);\n    },\n\n    getTagProd(id, index) {\n      var param = {\n        url: \"/prod/prodListByTagId\",\n        method: \"GET\",\n        data: {\n          tagId: id,\n          size: 6\n        },\n        callBack: res => {\n\t\t\t\t\tthis.updata = false\n\t\t\t\t\tthis.updata = true\n          var taglist = this.taglist;\n          taglist[index].prods = res.records;\n          this.setData({\n            taglist: taglist\n          });\n        }\n      };\n      http.request(param);\n    },\n\n    /**\n     * 跳转至商品详情\n     */\n    showProdInfo: function (e) {\n      let relation = e.currentTarget.dataset.relation;\n\n      if (relation) {\n        uni.navigateTo({\n          url: 'pages/prod/prod'\n        });\n      }\n    }\n  }\n};\n</script>\n<style>\n@import \"./index.css\";\n</style>","import mod from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1684836602902\n      var cssReload = require(\"D:/tools/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-filter-loader\\\\index.js!./number.wxs?vue&type=custom&index=0&blockType=script&issuerPath=C%3A%5CUsers%5C86158%5CDesktop%5CPM%5Cmall4uni%5Cpages%5Cindex%5Cindex.vue&module=wxs&lang=wxs\"; export default mod; export * from \"-!D:\\\\tools\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-filter-loader\\\\index.js!./number.wxs?vue&type=custom&index=0&blockType=script&issuerPath=C%3A%5CUsers%5C86158%5CDesktop%5CPM%5Cmall4uni%5Cpages%5Cindex%5Cindex.vue&module=wxs&lang=wxs\"","export default function (Component) {\n       if(!Component.options.wxsCallMethods){\n         Component.options.wxsCallMethods = []\n       }\n       \n     }"],"sourceRoot":""}